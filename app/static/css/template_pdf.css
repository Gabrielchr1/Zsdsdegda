@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        
/* --- Variáveis de Cor e Configurações Globais --- */
:root {
    --primary-color: #2950ff; /* Azul Principal */
    --danger-color: #199919;  /* Vermelho para Investimento */
    --success-color: #2950ff; /* Verde para Economia */
    --dark-text: #2c3e50;    /* Texto Escuro Principal */
    --light-text: #576574;   /* Texto Cinza Claro */
    --background-gray: #f8f9fa; /* Fundo Cinza Claro */
    --border-color: #e2e8f0;    /* Cor da Borda */
}

/* --- Configurações da Página para PDF (A4) --- */
@page { 
    size: A4; 
    margin: 2.5cm 2cm; /* Margens normais para páginas 2+ */
    @bottom-center { content: "Página " counter(page) " de " counter(pages); font-size: 10px; color: var(--light-text); }
    @top-right { 
        content: element(header); 
        padding-top: 1cm; /* Altura do header repetido (ajuste se precisar aqui TAMBÉM) */
    } 
}




/* --- Estilos Gerais do Corpo --- */
body { 
    font-family: 'Inter', sans-serif; 
    color: var(--dark-text); 
    font-size: 11px; /* Tamanho base da fonte */
    line-height: 1.5; 
}
h2 { 
    font-size: 18px; 
    color: var(--primary-color); 
    border-bottom: 2px solid var(--primary-color); 
    padding-bottom: 4px; 
    margin-top: 25px; 
    margin-bottom: 10px; 
    break-after: avoid; /* Evita quebra de página logo após o título */
}
h3 { 
    font-size: 14px; 
    color: var(--dark-text); 
    margin-top: 15px; 
    margin-bottom: 8px; 
}
p { 
    margin: 0 0 8px 0; 
}
.page-break { 
    page-break-after: always; /* Força quebra de página */
}


.logo-container {
    display: flex;
    align-items: center; /* Alinha logo e texto verticalmente */
    gap: 5px;
}

.company-name-logo {
    font-size: 22px;
    font-weight: 900;
    color: #002e5f; 
}




/* --- Estilos da Capa --- */

/* Mantém margens zeradas na primeira página para PDF */
@page:first {
    margin: 0;
    @bottom-center { content: ""; } /* sem rodapé na capa */

    @top-right {
        content: none;  /* remove o header do topo */
    }
}




/* Estrutura principal da capa */
.cover-page {
    width: 210mm;
    height: 297mm;
    background: white;
    color: var(--dark-text);
    display: flex;
    flex-direction: column;
    padding: 4cm 2cm 2cm 2cm; /* espaçamento proporcional */
    box-sizing: border-box;
    justify-content: space-between; /* header no topo, footer no fim */
}







/* HEADER */
.cover-header {
    display: flex;
    flex-direction: column;
    gap: 10px;
    text-align: left;
}

.cover-header .logo-container {
    display: flex;
    align-items: center;
    gap: 10px;
}

.cover-header img.logo {
    max-width: 80px;
    height: auto;
}

.cover-header .company-name-logo {
    font-size: 22px;
    font-weight: 900;
    color: #002e5f;
}

/* CONTEÚDO CENTRAL */
.cover-body {
    flex-grow: 1;
    display: flex;
    flex-direction: column;
    justify-content: center; /* centraliza verticalmente */
    align-items: flex-start; /* ajusta horizontalmente */
    text-align: left;
    gap: 10px; /* espaçamento interno entre elementos */
}

.cover-body h1 {
    font-size: 36px;
    font-weight: 800;
    margin: 0;
}

.cover-body .cover-info {
    font-size: 14px;
    line-height: 1.6;
    margin: 0;
}

/* FOOTER */
.cover-footer {
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
    width: 100%;
    color: var(--light-text);
    font-size: 10px;
    padding-top: 10px;
    border-top: 1px solid var(--border-color);
}

.cover-footer .footer-company-info {
    text-align: left;
}

.cover-footer .footer-company-info strong {
    font-size: 15px;
    font-weight: 700;
    color: var(--dark-text);
    display: block;
    margin-bottom: 5px;
}

.cover-footer .footer-company-info p {
    margin: 2px 0;
    line-height: 1.4;
}

.cover-footer .footer-image img {
    max-width: 350px; /* ajuste para não quebrar página */
    height: auto;
    display: block;
}






.footer-company-info {
    text-align: left;
}
.footer-company-info strong {
    font-size: 15px; 
    font-weight: 700;
    color: var(--dark-text); /* Destaca nome da empresa */
}
.footer-company-info p {
    margin: 2px 0; /* Pouco espaço entre linhas */
    line-height: 1.4; 
}
.footer-image img { 
    max-width: 300px; /* Ajuste o tamanho da imagem do rodapé */
    height: auto; 
    display: block; /* Evita espaço extra abaixo */
}

/* --- MODIFICAÇÕES NA SEÇÃO DE ASSINATURAS --- */
.signatures-section {
    display: flex;
    /* flex-direction: column; REMOVIDO (padrão é row) */
    /* align-items: center; REMOVIDO */
    justify-content: space-around; /* Espaça horizontalmente */
    gap: 30px; /* Espaço horizontal entre as caixas */
    text-align: center;
    margin-top: 40px; /* Margem superior reduzida (Era 50px) */
    /* page-break-before: always; REMOVIDO (Causa principal da quebra) */
    break-inside: avoid; /* Tenta não quebrar a seção inteira */
}
.signature-box {
    width: 45%; /* Caixas menores para caber lado a lado */
    /* Adiciona borda superior em vez de inferior na linha para visual */
    /* border-top: 1px solid var(--dark-text); */
    padding-top: 10px;
}
.signature-line {
     border-bottom: 1px solid var(--dark-text);
     margin-bottom: 10px;
     padding-bottom: 50px; /* Altura da linha reduzida (Era 100px ou mais) */
}
.signature-box strong {
    font-size: 14px; /* Nome menor */
    font-weight: 500;
     margin-bottom: 3px; /* Menos espaço abaixo do nome */
}
.signature-box p {
    font-size: 11px; /* Texto menor */
    line-height: 1.3;
}

/* --- Estilos do Conteúdo Principal (Páginas Internas) --- */
.header { /* Cabeçalho que repete nas páginas */
    position: running(header); 
    text-align: right; 
    font-size: 10px; 
    color: var(--light-text); 
}
/* Posiciona o header no topo direito */
@page { @top-right { content: element(header); padding-top: 1cm; } } 

.intro-page .lead { 
    font-size: 13px; 
    line-height: 1.7; 
    color: var(--light-text); 
    margin-top: 1cm; 
    margin-bottom: 1cm;
}








/* --- NOVO CSS PARA O RESUMO TÉCNICO --- */
.technical-summary {
    display: flex;
    justify-content: center; /* Centraliza os itens */
    gap: 20px;
    margin-top: 15px;
    margin-bottom: 25px; /* Mais espaço abaixo */
    text-align: center;
    break-inside: avoid; /* Tenta não quebrar este bloco entre páginas */
}
.tech-item {
    flex-basis: 150px; 
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 15px;
    background-color: var(--background-gray);
    border: 1px solid var(--border-color);
    border-radius: 8px;
}
.tech-item i {
    font-size: 28px; /* Ícone maior */
    color: var(--primary-color);
    margin-bottom: 10px;
}
.tech-item span { /* Rótulo (ex: Potência do Sistema) */
    font-size: 10px; 
    color: var(--light-text);
    text-transform: uppercase;
    margin-bottom: 5px;
    font-weight: 500;
}
.tech-item strong { /* Valor (ex: 9.72 kWp) */
    font-size: 18px; 
    font-weight: 700;
    color: var(--dark-text);
}
/* --- FIM DO NOVO CSS --- */

/* Tabela de Economia */
.savings-table { 
    width: 100%; 
    border-collapse: collapse; 
    text-align: center; 
    margin-top: 10px; 
    break-inside: avoid;
}
.savings-table th, .savings-table td { 
    padding: 10px 12px; /* Padding ajustado */
    border: 1px solid var(--border-color); 
    vertical-align: middle;
}
.savings-table thead { 
    background-color: var(--background-gray); 
    font-weight: 700; 
    font-size: 12px;
}
.savings-table .old-bill { 
    color: var(--danger-color); 
    font-weight: 700; 
}
.savings-table .new-bill { 
    color: var(--success-color); 
    font-weight: 700; 
}
.savings-table .total-savings { 
    background-color: var(--success-color); 
    color: white; 
    font-weight: 700; 
    font-size: 13px; 
}

/* Tabela de Itens */
.items-table { 
    width: 100%; 
    margin-top: 10px; 
    border-collapse: collapse; 
    break-inside: avoid; 
}
.items-table th, .items-table td { 
    padding: 8px; 
    text-align: left; 
    border-bottom: 1px solid var(--border-color); 
    vertical-align: middle; 
}
.items-table thead { 
    background-color: var(--background-gray); 
    font-weight: 600; 
    font-size: 10px; /* Cabeçalho menor */
    text-transform: uppercase;
}
.items-table tbody tr:nth-child(even) { /* Zebrado suave */
    background-color: #fdfdfe; 
}
.items-table .text-center { text-align: center; }
.items-table .text-right { text-align: right; }

/* KPIs Financeiros (Usado para TIR/VPL e também Investimento/Economia/Payback) */
.financial-kpis { 
    display: flex; 
    gap: 15px; 
    text-align: center; 
    break-inside: avoid;
    margin-top: 15px;
}
.kpi-box { 
    flex: 1; /* Ocupa espaço igual */
    padding: 15px; 
    border: 1px solid var(--border-color); 
    border-radius: 8px; 
    background-color: white; /* Fundo branco para destaque */
}
.kpi-box .icon { 
    font-size: 24px; 
    color: var(--primary-color); 
    margin-bottom: 8px; 
}
.kpi-box .label { 
    font-size: 9px; 
    font-weight: 600; 
    text-transform: uppercase; 
    margin-bottom: 3px; 
    color: var(--light-text); 
}
.kpi-box .value { 
    font-size: 18px; 
    font-weight: 700; 
    color: var(--dark-text); 
}
/* Cores específicas para KPIs principais */
.kpi-box .value.investment { color: var(--danger-color); }
.kpi-box .value.savings { color: var(--success-color); }

/* Caixa de Explicação */
.explanation-box { 
    background-color: var(--background-gray); 
    padding: 15px; 
    border-radius: 8px; 
    margin-top: 15px; 
    font-size: 10px; 
    border: 1px solid var(--border-color);
    break-inside: avoid;
}
.explanation-box i { color: var(--primary-color); margin-right: 5px;}

/* Container dos Gráficos */
.chart-container { 
    margin-top: 25px; 
    text-align: center; 
    break-inside: avoid; 
}
.chart-container h3 { 
    font-size: 12px; 
    color: var(--light-text); 
    margin-bottom: 8px; 
    font-weight: 500; 
    text-transform: uppercase;
}
.chart-container img { 
    max-width: 100%; 
    border: 1px solid var(--border-color); /* Adiciona borda sutil */
    border-radius: 4px;
}
.chart-container p { /* Legenda abaixo do título */
    text-align: center; 
    font-size: 10px; 
    color: var(--light-text);
    margin-top: -5px; /* Aproxima do título */
    margin-bottom: 10px;
}

/* Seção Dupla (Serviços e Garantias) */
.dual-section {
    display: flex;
    gap: 20px;
    break-inside: avoid;
    margin-top: 10px;
}
.dual-section .col {
    flex: 1;
}
.dual-section h3 {
     font-size: 13px; /* Título da coluna menor */
     margin-bottom: 10px;
     border-bottom: 1px solid var(--border-color);
     padding-bottom: 5px;
}
.dual-section ul {
    list-style: none;
    padding: 0;
    margin: 0;
}
.dual-section li {
    padding: 8px 0; /* Apenas padding vertical */
    border-bottom: 1px dotted var(--border-color); /* Linha pontilhada */
    display: flex;
    align-items: flex-start; /* Alinha ícone com topo do texto */
    gap: 10px;
}
.dual-section li i {
    color: var(--primary-color);
    font-size: 14px; /* Ícone um pouco menor */
    width: 15px; /* Garante alinhamento */
    text-align: center;
    margin-top: 2px; /* Ajuste fino vertical */
}
.dual-section li div strong { font-size: 11px; display: block; margin-bottom: 2px;}
.dual-section li div small { font-size: 10px; color: var(--light-text); line-height: 1.3; }
.dual-section li:last-child {
    border-bottom: none;
}

/* Logos de Clientes */
.client-logos-section { 
    text-align: center; 
    break-inside: avoid; 
    margin-top: 20px;
}
.client-logos-section h2 { margin-bottom: 15px; /* Era 20px */ } /* Mais espaço após título */
.client-logos-container { 
    display: flex; 
    flex-wrap: wrap; 
    justify-content: center; 
    align-items: center; 
    gap: 20px 30px; /* Mais espaço entre logos */
    padding: 15px 0; 
    border-top: 1px solid var(--border-color); 
    border-bottom: 1px solid var(--border-color); 
}
.logo-box { 
    flex-basis: auto; /* Tamanho automático */
    font-size: 32px; /* Ícones maiores */
    color: #adb5bd; /* Cinza mais claro */
}






/* * Card Pequeno (Potência) */
.tech-item-small {
    flex: 1;
    display: flex; /* <-- Define o modo Flexbox */
    flex-direction: column; /* <-- Empilha os itens verticalmente */
    
    /* AS DUAS LINHAS MÁGICAS: */
    justify-content: center; /* <-- Centraliza verticalmente (no eixo da coluna) */
    align-items: center; /* <-- Centraliza horizontalmente (no eixo cruzado) */
     
    padding: 10px;
    background: #ffffff;
    border-radius: 8px;
    text-align: center; /* (Bom para o texto, mas o align-items já resolve) */
    border: 1px solid var(--border-color);
    box-sizing: border-box;
    }











/* * Card Grande (Inversor) - Layout à prova de PDF (Versão Corrigida)
 */
 .tech-item-large {
    flex: 2; /* Mantém a proporção de 2:1 com o card pequeno */
    background: #ffffff;
    border-radius: 8px;
    border: 1px solid var(--border-color);
    padding: 15px 20px;
    box-sizing: border-box;
    min-height: 150px; 
    /* REMOVIDO: display: table e width: 100% (causa do erro) */
}

/* CHAVE: Os wrappers INTERNOS (ambos) agora são as tabelas */
.tech-item-large .inverter-content-wrapper,
.tech-item-large .fallback-container {
    display: table;
    width: 100%; /* A tabela interna ocupa 100% do card */
    table-layout: fixed;
    height: 100%; /* Opcional, mas ajuda no alinhamento vertical */
}

/* CÉLULA 2: IMAGEM (limpa, sem padding de layout) */
.tech-item-large .image-container {
    display: table-cell;
    vertical-align: middle;
    width: 160px; /* Largura da imagem */
    height: 160px;
    
    text-align: center; /* <--- USE ISTO PARA CENTRAR A IMAGEM */
    
    /* REMOVA AS REGRAS DE FLEX DA CÉLULA */
    /* display: flex; */
    /* justify-content: center; */
    /* align-items: center; */
    /* overflow: hidden; */ /* (Isto pode ficar se a imagem for grande) */
    /* flex-shrink: 0; */
}



.tech-item-large .image-container img {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain;
}
.tech-item-large .image-container .fas {
    font-size: 3.5em; /* Ícone um pouco maior */
    color: #ffffff;
}

/* Coluna de Informações (Célula da Tabela) */
.tech-item-large .info-container {
    display: table-cell;
    vertical-align: middle; /* CORRIGE O TEXTO "EMBAIXO" */
    padding-left: 30px; /* Espaçamento entre imagem e texto */
    
    /* REMOVIDO: display: flex (causa do erro) */
}








/* Estilos de texto (sem quebra de linha e com "...") */
.tech-item-large .info-container .overlay-title {
    font-size: 14px; /* ... (seu tamanho) ... */
    
    /* --- ADICIONE ESTAS 3 LINHAS --- */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: left;
}
.tech-item-large .info-container span {
    font-size: 14px; /* ... (seu tamanho) ... */

    /* --- ADICIONE ESTAS 3 LINHAS --- */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: left;
}
.tech-item-large .info-container strong {
    font-size: 14px; /* ... (seu tamanho) ... */
    
    /* --- ADICIONE ESTAS 3 LINHAS --- */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: left;
}


.tech-item-large .info-container .sub-items {
    margin-top: 10px; font-size: 10px; color: var(--light-text);
    text-align: left;

}










/* * Estilo do Fallback (agora 100% consistente com o de cima) */

/* CÉLULA 2: ÍCONE (limpa, sem padding de layout) */
.tech-item-large .fallback-container .image-placeholder {
    display: table-cell;
    vertical-align: middle;
    width: 160px; 
    height: 160px;
    
    text-align: center; /* <--- USE ISTO PARA CENTRAR O ÍCONE */
    
    /* REMOVA AS REGRAS DE FLEX DA CÉLULA */
    /* display: flex; */
    /* justify-content: center; */
    /* align-items: center; */
    /* flex-shrink: 0; */
}


/* * NOVAS CÉLULAS DE ESPAÇO (Layout Explícito)
 */
 .tech-item-large .spacer-cell-left {
    display: table-cell;
    vertical-align: middle;
    width: 100px; /* <--- SUA MARGEM ESQUERDA */
}

/* CÉLULA 3: ESPAÇO CENTRAL */
.tech-item-large .spacer-cell-middle {
    display: table-cell;
    vertical-align: middle;
    
    /* AUMENTE ESTE VALOR para mover o texto para a direita */
    width: 1px; /* (Tente 80px, 100px, etc.) */
}



.tech-item-large .fallback-container .image-placeholder i {  
    font-size: 3.5em;  
    color: #ffffff;
}

/* Coluna do Texto (Célula da Tabela) */
.tech-item-large .fallback-container .text-content {
    display: table-cell;
    vertical-align: middle;
    padding-left: 0;
    padding-right: 50px;
}
.tech-item-large .fallback-container span { font-size: 1.2em; display: block; margin-bottom: 2px; }
.tech-item-large .fallback-container strong { font-size: 2.0em; display: block; color: var(--primary-color); }





/* Estilo para o título da nova seção */
.section-title {
    font-size: 14px;
    color: #8d8d8d;
    font-weight: 600;
    margin-top: 20px; /* Espaço acima */
    margin-bottom: 10px; /* Espaço antes da tabela */
    border-bottom: 1px solid #eee; /* Linha sutil */
    padding-bottom: 4px;
}

/* Ajustes na tabela de pagamento */
.payment-options-table th {
    background-color: var(--dark-bg); /* Cabeçalho mais escuro */
    color: #2e43ff;
    font-size: 10px;
}
.payment-options-table td {
    font-size: 0.85rem;
    padding-top: 12px; /* Mais espaçamento vertical */
    padding-bottom: 12px;
}
/* Destaca o valor à vista */
.payment-options-table strong {
    color: #8d8d8d;
    font-weight: 600;
}